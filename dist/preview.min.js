!function(e,t){"function"==typeof define&&define.amd?define(["module","jQuery"],function(e,n){return t(e.config(),n)}):e.preview=function(n){return t(n,n.jQuery||e.jQuery)}}(this,function(e,t){var n={},o={width:200,height:130,readyCss:{color:"green"}},i=t.extend({},o,e),r=/(^\/\/.*)|(^http:\/\/)|(^https:\/\/)/,a=document.createElement("style");a.type="text/css",a.innerHTML=".previewjs-thumbnail { position: absolute; display: none; background: #ccc; border: 1px solid }",document.getElementsByTagName("head")[0].appendChild(a),t(document).ready(function(){var e=function(e,o){var a,c=t(e).attr("href");a=r.test(c)?c:"/"===c.charAt(0)?location.protocol+"//"+location.hostname+":"+location.port+"/"+c:location.protocol+"//"+location.hostname+":"+location.port+"/"+location.pathname,n.hasOwnProperty(a)?o(n[a]):t.get(i.server,{url:a},function(e){n[a]=e.uri,o(e.uri)})};t("a[href]").each(function(){var n=t(this);e(n,function(e){var o=i.server+e,r=t('<img class="previewjs-thumbnail" src="'+o+'" width="'+i.width+'" height="'+i.height+'"/>');t("body").append(r),r.hide(),n.hover(function(e){t(r).css({left:e.pageX+1,top:e.pageY+1}).stop().show(100)},function(){t(r).hide()}),n.css(i.readyCss)})})})});